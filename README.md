---
name: "dboms-list-generator"
displayName: "DBOMS 列表页面生成器"
description: "快速生成 DBOMS 项目标准列表页面，基于 Vue 3 + TypeScript，支持流程状态筛选、搜索、分页、批量删除等完整交互逻辑"
keywords: ["dboms", "vue3", "列表页面", "代码生成", "typescript", "element-plus"]
author: "DBOMS Team"
---

# DBOMS 列表页面生成器

## Overview

这个 Power 帮助你快速生成 DBOMS 项目标准列表页面。基于采购改单列表页面模板，确保生成的代码风格统一、交互逻辑完整。

主要特点：
- 自动生成完整的列表页面结构（Vue 组件 + API + 配置 + 类型定义）
- 支持流程状态筛选（全部/已完成/审批中/草稿）
- 内置搜索、重置、分页、批量删除等交互逻辑
- 智能检测目录是否存在，避免重复生成配置文件

## Available Steering Files

- **list-template** - 列表页面完整模板和代码规范
- **workflow** - 交互式生成工作流程

## 触发条件

当用户提到以下关键词时激活此 Power：
- "生成列表页面"
- "创建列表页"
- "新建列表"
- "列表模板"
- "dboms 列表"

## 工作流程

```
用户输入列表需求（模块名称、展示字段）
    ↓
生成功能点清单确认
    ↓
检查目录是否存在
    ↓
用户确认后生成代码
    ↓
提示用户需要补充的内容
```

## Onboarding

### 使用方式

1. 告诉我你需要创建的列表页面信息：
   - **模块中文名**（如：物料申请）
   - **模块英文名**（如：materialApplication）
   - **列表展示字段**（如：编号、名称、数量、申请人、日期）
   - **搜索字段**（如：编号、名称、申请人）
   - **是否需要审批流程**（是/否）

2. 我会生成功能点清单供你确认

3. 确认后自动生成代码文件

4. 根据提示补充接口、类型等内容

### 必须收集的信息

| 信息项 | 说明 | 示例 |
|-------|------|------|
| 模块名称 | 中文名称，用于页面标题和按钮 | 采购改单申请 |
| 模块英文名 | 用于路由、变量命名（小驼峰） | purchaseOrderAmendment |
| 列表字段 | 需要展示的表格列 | 编号、订单号、状态、申请人、日期 |
| 搜索字段 | 搜索框支持的筛选项 | 订单号、申请人 |
| 是否需要流程状态 | 是否有审批流程 | 是/否 |
| 操作按钮 | 列表行操作 | 编辑、删除、查看 |

## 生成策略

### 情况一：目录不存在（全新模块）

生成完整文件结构：

```
src/views/{moduleName}/
├── api/
│   └── index.ts              # API 接口定义
├── config/
│   └── index.ts              # 配置项（流程状态、分页、搜索选项）
├── interface/
│   └── index.ts              # 类型定义
└── {moduleName}List/
    └── index.vue             # 列表页面
```

### 情况二：目录已存在（现有模块新增列表）

**只生成列表 Vue 文件，复用现有配置：**

```
src/views/{moduleName}/
├── api/
│   └── index.ts              # ✅ 已存在，跳过
├── config/
│   └── index.ts              # ✅ 已存在，跳过
├── interface/
│   └── index.ts              # ✅ 已存在，跳过
└── {newListName}/
    └── index.vue             # 🆕 只生成这个文件
```

## 功能点确认模板

```markdown
## 功能点清单

根据你的需求，我梳理出以下功能点：

### 📋 页面结构
- [ ] 1.1 顶部类型切换器 + 新建按钮
- [ ] 1.2 流程状态筛选栏
- [ ] 1.3 搜索框（支持多字段搜索）
- [ ] 1.4 数据表格
- [ ] 1.5 分页组件

### 🔄 交互功能
- [ ] 2.1 流程状态切换筛选
- [ ] 2.2 搜索/重置
- [ ] 2.3 新建跳转
- [ ] 2.4 编辑/查看跳转
- [ ] 2.5 单条/批量删除
- [ ] 2.6 表格多选

### 📡 数据处理
- [ ] 3.1 列表数据加载
- [ ] 3.2 分页切换
- [ ] 3.3 删除接口调用

---

请确认以上功能点是否符合预期？
1. ✅ 确认，开始生成代码
2. ➕ 需要添加功能点
3. ➖ 需要删除某些功能点
4. ✏️ 需要修改功能点描述
```

## 变量替换说明

| 占位符 | 说明 | 示例 |
|-------|------|------|
| `{moduleName}` | 模块英文名（小驼峰） | purchaseOrderAmendment |
| `{ModuleName}` | 模块英文名（大驼峰） | PurchaseOrderAmendment |
| `{moduleCnName}` | 模块中文名 | 采购改单申请 |
| `{routePath}` | 路由路径 | purchaseOrderAmendment |
| `{urlKey}` | URL 配置前缀 | poa |

## 使用示例

**用户输入：**
> 帮我生成一个"物料申请"列表页面，需要展示：申请编号、物料名称、申请数量、申请人、申请日期、流程状态。搜索支持：申请编号、物料名称、申请人

**生成结果：**
1. 确认功能点清单
2. 检查 `src/views/materialApplication/` 是否存在
3. 生成相应文件（全部或仅列表页面）
4. 提示用户需要补充的具体内容

## Troubleshooting

### 功能点不完整

**问题：** 生成的功能点缺少某些需求
**解决：** 告诉我缺少的功能，我会补充

### 目录检测问题

**问题：** 目录已存在但仍生成了全部文件
**解决：** 确认目录路径是否正确，或手动指定只生成列表页面

### 代码不符合规范

**问题：** 生成的代码使用了 Element UI 原生组件
**解决：** 我会自动检查并修正，如有遗漏请指出

## Best Practices

- 需求描述越详细越好，包含业务场景、交互细节
- 如果有类似页面，可以提供参考
- 复杂页面可以分模块确认
- 功能点不对立即修改，避免返工

## Configuration

**无需额外配置** - 此 Power 为纯文档型，不包含 MCP 服务器。

---

**项目技术栈：** Vue 3 + TypeScript + Element Plus
**代码规范：** DBOMS 项目标准
